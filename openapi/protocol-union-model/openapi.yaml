openapi: 3.0.3
info:
paths:

components:
  schemas:

    Blockchain:
      type: string
      enum:
        - ETHEREUM
        - FLOW

    ApiError:
      type: object
      properties:
        status:
          type: integer
          format: int32
        code:
          type: string
          enum:
            - UNKNOWN
            - BAD_REQUEST
            - VALIDATION
            - ITEM_NOT_FOUND
            - LAZY_ITEM_NOT_FOUND
            - TOKEN_NOT_FOUND
            - TOKEN_URI_NOT_FOUND
            - TOKEN_PROPERTIES_EXTRACT
            - OWNERSHIP_NOT_FOUND
            - COLLECTION_NOT_FOUND
            - INCORRECT_LAZY_NFT
        message:
          type: string
      required:
        - code
        - message
        - status

    #################### Meta - Union ####################

    UnionMeta:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/UnionMetaAttribute"
        contents:
          type: array
          items:
            $ref: "#/components/schemas/UnionMetaContent"
        raw:
          type: string
      required:
        - name

    UnionMetaContent:
      type: object
      properties:
        typeContent:
          type: string
        url:
          type: string
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/UnionMetaAttribute"
      required:
        - typeContent
        - url

    UnionMetaAttribute:
      type: object
      properties:
        key:
          type: string
        value:
          type: string
      required:
        - key
        - value

    #################### Item - Union ####################

    UnionItem:
      type: object
      properties:
        mintedAt:
          type: string
          format: date-time
        lastUpdatedAt:
          type: string
          format: date-time
        supply:
          $ref: "#/components/schemas/BigInteger"
        metaURL:
          type: string
          example: "ipfs://ipfs/QmPe1W8XiUYdsvdpvgWVwekQ7cDQivRMak3YPX15vxvSJs"
        meta:
          $ref: "#/components/schemas/UnionMeta"
        deleted:
          type: boolean
      oneOf:
        - $ref: "#/components/schemas/EthItem"
        - $ref: "#/components/schemas/FlowItem"
      required:
        - mintedAt
        - lastUpdatedAt
        - supply
        - deleted

    UnionItems:
      type: object
      properties:
        total:
          type: integer
          format: int64
          description: "Number of items were found by request"
        continuation:
          type: string
          description: "Continuation token to paginate items search result"
        items:
          type: array
          description: "List of found items"
          items:
            $ref: "#/components/schemas/UnionItem"
      required:
        - total
        - items

    UnionItemEvent:
      type: object
      properties:
        eventId:
          type: string
      required:
        - eventId
      oneOf:
        - $ref: "#/components/schemas/EthItemEvent"
        - $ref: "#/components/schemas/FlowItemEvent"

    #################### Ownership - Union ####################

    UnionOwnership:
      type: object
      properties:
        value:
          $ref: "#/components/schemas/BigInteger"
        createdAt:
          type: string
          format: "date-time"
      oneOf:
        - $ref: "#/components/schemas/EthOwnership"
        - $ref: "#/components/schemas/FlowOwnership"
      required:
        - value
        - createdAt

    UnionOwnerships:
      type: object
      properties:
        total:
          type: integer
          format: int64
          description: "Number of ownerships were found by request"
        continuation:
          type: string
          description: "Continuation token to paginate Ownerships search result"
        ownerships:
          type: array
          description: "List of found ownerships"
          items:
            $ref: "#/components/schemas/UnionOwnership"
      required:
        - total
        - ownerships

    UnionOwnershipEvent:
      type: object
      properties:
        eventId:
          type: string
      required:
        - eventId
      oneOf:
        - $ref: "#/components/schemas/EthOwnershipEvent"
        - $ref: "#/components/schemas/FlowOwnershipEvent"

    #################### Order - Union ####################

    UnionOrder:
      type: object
      properties:
        fill:
          $ref: "#/components/schemas/BigInteger"
        startedAt:
          type: string
          format: "date-time"
        endedAt:
          type: string
          format: "date-time"
        makeStock:
          $ref: "#/components/schemas/BigDecimal"
        cancelled:
          type: "boolean"
        createdAt:
          type: string
          format: "date-time"
        lastUpdatedAt:
          type: string
          format: "date-time"
        makeBalance:
          $ref: "#/components/schemas/BigDecimal"
        makePriceUSD:
          $ref: "#/components/schemas/BigDecimal"
        takePriceUSD:
          $ref: "#/components/schemas/BigDecimal"
        priceHistory:
          type: array
          default: [ ]
          items:
            $ref: "#/components/schemas/UnionOrderPriceHistoryRecord"
      oneOf:
        - $ref: "#/components/schemas/EthOrder"
        - $ref: "#/components/schemas/FlowOrder"
      required:
        - fill
        - makeStock
        - cancelled
        - createdAt
        - lastUpdatedAt
        - priceHistory

    UnionOrderPriceHistoryRecord:
      type: object
      required:
        - date
        - makeValue
        - takeValue
      properties:
        date:
          type: string
          format: date-time
        makeValue:
          $ref: "#/components/schemas/BigDecimal"
        takeValue:
          $ref: "#/components/schemas/BigDecimal"

    UnionOrders:
      type: object
      properties:
        total:
          type: integer
          format: int64
          description: "Number of ownerships were found by request"
        continuation:
          type: string
          description: "Continuation token to paginate Ownerships search result"
        orders:
          type: array
          description: "List of found orders"
          items:
            $ref: "#/components/schemas/UnionOrder"
      required:
        - total
        - orders

    UnionOrderEvent:
      type: object
      properties:
        eventId:
          type: string
        orderId:
          type: string
      required:
        - eventId
        - orderId
      oneOf:
        - "$ref": "#/components/schemas/EthOrderEvent"
        - "$ref": "#/components/schemas/FlowOrderEvent"

    #################### Activity - Union ####################

    UnionActivity:
      type: object
      properties:
        id:
          type: string
        date:
          type: string
          format: "date-time"
      oneOf:
        - $ref: "#/components/schemas/EthActivity"
        - $ref: "#/components/schemas/FlowActivity"
      required:
        - id
        - date

    UnionActivities:
      type: object
      properties:
        total:
          type: integer
          description: "Number of ownerships were found by request"
          format: int64
        continuation:
          type: string
          description: "Continuation token to paginate Ownerships search result"
        activities:
          type: array
          description: "List of found activities"
          items:
            $ref: "#/components/schemas/UnionActivity"
      required:
        - total
        - activities

    UnionCollection:
      type: object
      properties:
        name:
          type: string
        symbol:
          type: string
      oneOf:
        - $ref: "#/components/schemas/EthCollection"
        - $ref: "#/components/schemas/FlowCollection"
      required:
        - name

    UnionCollections:
      type: object
      properties:
        total:
          type: integer
          format: int64
          description: "Number of ownerships were found by request"
        continuation:
          type: string
          description: "Continuation token to paginate Ownerships search result"
        collections:
          type: array
          items:
            $ref: "#/components/schemas/UnionCollection"
      required:
        - total
        - collections

    ActivityBlockchainInfo:
      type: object
      properties:
        transactionHash:
          type: string
        blockHash:
          type: string
        blockNumber:
          type: integer
          format: int64
        logIndex:
          type: integer
      required:
        - transactionHash
        - blockHash
        - blockNumber
        - logIndex

    #################### Item - Eth ####################

    EthItemId:
      type: object
      properties:
        value:
          type: string
          example: "${blockchain}:${token}:${tokenId}"
        token:
          $ref: "#/components/schemas/EthAddress"
        tokenId:
          $ref: "#/components/schemas/BigInteger"
      required:
        - value
        - token
        - tokenId

    EthItem:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM
        blockchain:
          $ref: "#/components/schemas/EthBlockchain"
        id:
          $ref: "#/components/schemas/EthItemId"
        tokenId:
          $ref: "#/components/schemas/BigInteger"
        collection:
          $ref: "#/components/schemas/EthAddress"
        creators:
          type: array
          items:
            $ref: "#/components/schemas/EthCreator"
        owners:
          type: array
          items:
            $ref: "#/components/schemas/EthAddress"
        royalties:
          type: array
          items:
            $ref: "#/components/schemas/EthRoyalty"
        lazySupply:
          $ref: "#/components/schemas/BigInteger"
        pending:
          type: array
          items:
            $ref: "#/components/schemas/EthPendingItem"
      required:
        - blockchain
        - id
        - tokenId
        - collection
        - creators
        - owners
        - royalties
        - lazySupply

    EthRoyalty:
      type: object
      properties:
        account:
          $ref: "#/components/schemas/EthAddress"
        value:
          $ref: "#/components/schemas/BigInteger"

    EthCreator:
      type: object
      properties:
        account:
          $ref: "#/components/schemas/EthAddress"
        value:
          $ref: "#/components/schemas/BigDecimal"
      required:
        - account
        - value

    EthPendingItem:
      type: object
      properties:
        type:
          type: string
          enum:
            - TRANSFER
        from:
          $ref: "#/components/schemas/EthAddress"
      required:
        - type
        - from

    EthItemEvent:
      properties:
        itemId:
          $ref: "#/components/schemas/EthItemId"
      required:
        - "@type"
        - itemId
      oneOf:
        - $ref: "#/components/schemas/EthItemUpdateEvent"
        - $ref: "#/components/schemas/EthItemDeleteEvent"

    EthItemUpdateEvent:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM_UPDATE
        item:
          $ref: "#/components/schemas/EthItem"
      required:
        - "@type"
        - item

    EthItemDeleteEvent:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM_DELETE
      required:
        - "@type"
        - itemId

    #################### Ownership - Eth ####################

    EthOwnershipId:
      type: object
      properties:
        value:
          type: string
          example: "${blockchain}:${token}:${tokenId}:${owner}"
        token:
          $ref: "#/components/schemas/EthAddress"
        tokenId:
          $ref: "#/components/schemas/BigInteger"
        owner:
          $ref: "#/components/schemas/EthAddress"
      required:
        - owner
        - value
        - token
        - tokenId

    EthOwnership:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM
        blockchain:
          $ref: "#/components/schemas/EthBlockchain"
        id:
          $ref: "#/components/schemas/EthOwnershipId"
        contract:
          $ref: "#/components/schemas/EthAddress"
        tokenId:
          $ref: "#/components/schemas/BigInteger"
        owner:
          type: array
          items:
            $ref: "#/components/schemas/EthAddress"
        creators:
          type: array
          items:
            $ref: "#/components/schemas/EthCreator"
        lazyValue:
          $ref: "#/components/schemas/BigInteger"
        pending:
          type: array
          items:
            $ref: "#/components/schemas/EthPendingOwnership"
      required:
        - "@type"
        - id
        - contract
        - tokenId
        - owner
        - creators
        - lazyValue
        - pending

    EthPendingOwnership:
      type: object
      oneOf:
        - $ref: "#/components/schemas/EthPendingOwnershipTransfer"
        - $ref: "#/components/schemas/EthPendingOwnershipRoyalty"

    EthPendingOwnershipTransfer:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - TRANSFER
        from:
          $ref: "#/components/schemas/EthAddress"
      required:
        - "@type"
        - from

    EthPendingOwnershipRoyalty:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ROYALTY
        from:
          type: array
          items:
            $ref: "#/components/schemas/EthRoyalty"
      required:
        - "@type"
        - from

    EthOwnershipEvent:
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM
        ownershipId:
          $ref: "#/components/schemas/EthOwnershipId"
      required:
        - "@type"
        - ownershipId
      oneOf:
        - $ref: "#/components/schemas/EthOwnershipUpdateEvent"
        - $ref: "#/components/schemas/EthOwnershipDeleteEvent"

    EthOwnershipUpdateEvent:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM_UPDATE
        ownership:
          $ref: "#/components/schemas/EthOwnership"
      required:
        - "@type"
        - ownership

    EthOwnershipDeleteEvent:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM_DELETE
      required:
        - "@type"

    #################### Order - Eth ####################

    EthOrder:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM
        maker:
          $ref: "#/components/schemas/EthAddress"
        taker:
          $ref: "#/components/schemas/EthAddress"
        make:
          $ref: "#/components/schemas/EthAsset"
        take:
          $ref: "#/components/schemas/EthAsset"
        salt:
          type: string
        signature:
          type: string
        pending:
          type: array
          items:
            $ref: "#/components/schemas/EthPendingOrder"
        hash:
          type: string
      required:
        - "@type"
        - type
        - maker
        - make
        - take
        - salt
        - data
        - hash
      oneOf:
        - "$ref": "#/components/schemas/EthLegacyOrder"
        - "$ref": "#/components/schemas/EthRaribleV2Order"
        - "$ref": "#/components/schemas/EthOpenSeaV1Order"

    EthLegacyOrder:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - RARIBLE_V1
        data:
          $ref: "#/components/schemas/EthOrderDataLegacy"
      required:
        - "@type"
        - data

    EthRaribleV2Order:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - RARIBLE_V2
        data:
          $ref: "#/components/schemas/EthOrderDataRaribleV2DataV1"
      required:
        - "@type"
        - data

    EthOpenSeaV1Order:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - OPEN_SEA_V1
        data:
          $ref: "#/components/schemas/EthOrderOpenSeaV1DataV1"
      required:
        - "@type"
        - data

    EthOrderDataLegacy:
      type: object
      properties:
        fee:
          $ref: "#/components/schemas/BigInteger"
      required:
        - fee

    EthOrderDataRaribleV2DataV1:
      type: object
      properties:
        payouts:
          type: array
          items:
            $ref: "#/components/schemas/EthOrderPayout"
        originFees:
          type: array
          items:
            $ref: "#/components/schemas/EthOrderOriginFee"
      required:
        - payouts
        - originFees

    EthOrderOpenSeaV1DataV1:
      type: object
      properties:
        exchange:
          $ref: "#/components/schemas/EthAddress"
        makerRelayerFee:
          $ref: "#/components/schemas/BigInteger"
        takerRelayerFee:
          $ref: "#/components/schemas/BigInteger"
        makerProtocolFee:
          $ref: "#/components/schemas/BigInteger"
        takerProtocolFee:
          $ref: "#/components/schemas/BigInteger"
        feeRecipient:
          $ref: "#/components/schemas/EthAddress"
        feeMethod:
          type: string
          enum:
            - PROTOCOL_FEE
            - SPLIT_FEE
        side:
          type: string
          enum:
            - BUY
            - SELL
        saleKind:
          type: string
          enum:
            - FIXED_PRICE
            - DUTCH_AUCTION
        howToCall:
          type: string
          enum:
            - CALL
            - DELEGATE_CALL
        callData:
          type: string
        replacementPattern:
          type: string
        staticTarget:
          $ref: "#/components/schemas/EthAddress"
        staticExtraData:
          type: string
        extra:
          $ref: "#/components/schemas/BigInteger"
      required:
        - dataType
        - exchange
        - makerRelayerFee
        - takerRelayerFee
        - makerProtocolFee
        - takerProtocolFee
        - feeRecipient
        - feeMethod
        - side
        - saleKind
        - howToCall
        - callData
        - replacementPattern
        - staticTarget
        - staticExtraData
        - extra

    EthPendingOrder:
      type: object
      oneOf:
        - $ref: "#/components/schemas/EthPendingOrderCancel"
        - $ref: "#/components/schemas/EthPendingOrderMatch"

    EthPendingOrderCancel:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - CANCEL
        owner:
          $ref: "#/components/schemas/EthAddress"
      required:
        - "@type"

    EthPendingOrderMatch:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ORDER_SIDE_MATCH
        side:
          type: string
          enum:
            - LEFT
            - RIGHT
        fill:
          $ref: "#/components/schemas/BigInteger"
        taker:
          $ref: "#/components/schemas/EthAddress"
        counterHash:
          type: string
        makeUSD:
          $ref: "#/components/schemas/BigInteger"
        takeUSD:
          $ref: "#/components/schemas/BigInteger"
        makePriceUSD:
          $ref: "#/components/schemas/BigInteger"
        takePriceUSD:
          $ref: "#/components/schemas/BigInteger"
      required:
        - "@type"
        - fill

    EthOrderPayout:
      type: object
      properties:
        account:
          $ref: "#/components/schemas/EthAddress"
        value:
          $ref: "#/components/schemas/BigInteger"
      required:
        - account
        - value

    EthOrderOriginFee:
      type: object
      properties:
        account:
          $ref: "#/components/schemas/EthAddress"
        value:
          $ref: "#/components/schemas/BigInteger"
      required:
        - account
        - value

    EthAssetType:
      type: object
      properties:
        contract:
          $ref: "#/components/schemas/EthAddress"
      required:
        - contract
      oneOf:
        - $ref: "#/components/schemas/ERC1155LazyAsset"
        - $ref: "#/components/schemas/ERC721LazyAsset"
        - $ref: "#/components/schemas/ERC1155Asset"
        - $ref: "#/components/schemas/ERC721Asset"
        - $ref: "#/components/schemas/ERC20Asset"
        - $ref: "#/components/schemas/EthereumAsset"

    EthAsset:
      type: object
      properties:
        assetType:
          $ref: "#/components/schemas/EthAssetType"
        value:
          $ref: "#/components/schemas/BigInteger"
      required:
        - assetType
        - value

    ERC1155LazyAsset:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ERC1155_Lazy
        tokenId:
          $ref: "#/components/schemas/BigInteger"
        uri:
          type: string
        supply:
          $ref: "#/components/schemas/BigInteger"
        creators:
          type: array
          items:
            $ref: "#/components/schemas/EthCreator"
        royalties:
          type: array
          items:
            $ref: "#/components/schemas/EthRoyalty"
        signature:
          type: array
          items:
            type: string
      required:
        - "@type"
        - tokenId
        - uri
        - creators
        - royalties
        - signature

    ERC721LazyAsset:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ERC721_Lazy
        tokenId:
          $ref: "#/components/schemas/BigInteger"
        uri:
          type: string
        creators:
          type: array
          items:
            $ref: "#/components/schemas/EthCreator"
        royalties:
          type: array
          items:
            $ref: "#/components/schemas/EthRoyalty"
        signature:
          type: array
          items:
            type: string
      required:
        - "@type"
        - tokenId
        - uri
        - creators
        - royalties
        - signature

    ERC1155Asset:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ERC1155
        tokenId:
          $ref: "#/components/schemas/BigInteger"
      required:
        - "@type"
        - tokenId

    ERC721Asset:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ERC721
        tokenId:
          $ref: "#/components/schemas/BigInteger"
      required:
        - "@type"
        - tokenId

    ERC20Asset:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ERC20
      required:
        - "@type"

    EthereumAsset:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETH
      required:
        - "@type"

    #################### Activity - Eth ####################

    EthActivity:
      type: object
      properties:
        blockchain:
          $ref: "#/components/schemas/EthBlockchain"
      oneOf:
        - $ref: "#/components/schemas/EthMintActivity"
        - $ref: "#/components/schemas/EthBurnActivity"
        - $ref: "#/components/schemas/EthTransferActivity"
        - $ref: "#/components/schemas/EthOrderMatchActivity"
        - $ref: "#/components/schemas/EthOrderBidActivity"
        - $ref: "#/components/schemas/EthOrderListActivity"
        - $ref: "#/components/schemas/EthOrderCancelBidActivity"
        - $ref: "#/components/schemas/EthOrderCancelListActivity"
      required:
        - blockchain

    EthMintActivity:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM_MINT
        owner:
          type: array
          items:
            $ref: "#/components/schemas/EthAddress"
        contract:
          $ref: "#/components/schemas/EthAddress"
        tokenId:
          $ref: "#/components/schemas/BigInteger"
        value:
          $ref: "#/components/schemas/BigInteger"
        blockchainInfo:
          $ref: "#/components/schemas/ActivityBlockchainInfo"
      required:
        - "@type"
        - owner
        - contract
        - tokenId
        - value
        - blockchainInfo

    EthBurnActivity:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM_BURN
        owner:
          type: array
          items:
            $ref: "#/components/schemas/EthAddress"
        contract:
          $ref: "#/components/schemas/EthAddress"
        tokenId:
          $ref: "#/components/schemas/BigInteger"
        value:
          $ref: "#/components/schemas/BigInteger"
        blockchainInfo:
          $ref: "#/components/schemas/ActivityBlockchainInfo"
      required:
        - "@type"
        - owner
        - contract
        - tokenId
        - value
        - blockchainInfo

    EthTransferActivity:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM_TRANSFER
        from:
          $ref: "#/components/schemas/EthAddress"
        owner:
          type: array
          items:
            $ref: "#/components/schemas/EthAddress"
        contract:
          $ref: "#/components/schemas/EthAddress"
        tokenId:
          $ref: "#/components/schemas/BigInteger"
        value:
          $ref: "#/components/schemas/BigInteger"
        blockchainInfo:
          $ref: "#/components/schemas/ActivityBlockchainInfo"
      required:
        - "@type"
        - from
        - owner
        - contract
        - tokenId
        - value
        - blockchainInfo

    EthOrderActivityMatchSide:
      type: object
      properties:
        maker:
          $ref: "#/components/schemas/EthAddress"
        hash:
          type: string
        asset:
          $ref: "#/components/schemas/EthAsset"
        type:
          type: string
          enum:
            - SELL
            - BID
      required:
        - maker
        - hash
        - asset
        - type

    EthOrderActivitySource:
      type: string
      enum:
        - RARIBLE
        - OPEN_SEA

    EthOrderMatchActivity:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM_MATCH
        left:
          $ref: "#/components/schemas/EthOrderActivityMatchSide"
        right:
          $ref: "#/components/schemas/EthOrderActivityMatchSide"
        price:
          $ref: "#/components/schemas/BigDecimal"
        priceUsd:
          $ref: "#/components/schemas/BigDecimal"
        source:
          $ref: "#/components/schemas/EthOrderActivitySource"
        blockchainInfo:
          $ref: "#/components/schemas/ActivityBlockchainInfo"
      required:
        - "@type"
        - left
        - right
        - price
        - source
        - blockchainInfo

    EthOrderBidActivity:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM_BID
        hash:
          type: string
        maker:
          $ref: "#/components/schemas/EthAddress"
        make:
          $ref: "#/components/schemas/EthAsset"
        take:
          $ref: "#/components/schemas/EthAsset"
        price:
          $ref: "#/components/schemas/BigDecimal"
        priceUsd:
          $ref: "#/components/schemas/BigDecimal"
        source:
          $ref: "#/components/schemas/EthOrderActivitySource"
      required:
        - "@type"
        - hash
        - maker
        - make
        - take
        - price
        - source

    EthOrderListActivity:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM_LIST
        hash:
          type: string
        maker:
          $ref: "#/components/schemas/EthAddress"
        make:
          $ref: "#/components/schemas/EthAsset"
        take:
          $ref: "#/components/schemas/EthAsset"
        price:
          $ref: "#/components/schemas/BigDecimal"
        priceUsd:
          $ref: "#/components/schemas/BigDecimal"
        source:
          $ref: "#/components/schemas/EthOrderActivitySource"
      required:
        - "@type"
        - hash
        - maker
        - make
        - take
        - price
        - source

    EthOrderCancelBidActivity:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM_CANCEL_BID
        hash:
          type: string
        maker:
          $ref: "#/components/schemas/EthAddress"
        make:
          $ref: "#/components/schemas/EthAssetType"
        take:
          $ref: "#/components/schemas/EthAssetType"
        source:
          $ref: "#/components/schemas/EthOrderActivitySource"
        blockchainInfo:
          $ref: "#/components/schemas/ActivityBlockchainInfo"
      required:
        - "@type"
        - hash
        - maker
        - make
        - take
        - source
        - blockchainInfo

    EthOrderCancelListActivity:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM_CANCEL_LIST
        hash:
          type: string
        maker:
          $ref: "#/components/schemas/EthAddress"
        make:
          $ref: "#/components/schemas/EthAssetType"
        take:
          $ref: "#/components/schemas/EthAssetType"
        source:
          $ref: "#/components/schemas/EthOrderActivitySource"
        blockchainInfo:
          $ref: "#/components/schemas/ActivityBlockchainInfo"
      required:
        - "@type"
        - hash
        - maker
        - make
        - take
        - source
        - blockchainInfo

    EthFeaturesCollection:
      type: string
      enum:
        - APPROVE_FOR_ALL
        - SET_URI_PREFIX
        - BURN
        - MINT_WITH_ADDRESS
        - SECONDARY_SALE_FEES
        - MINT_AND_TRANSFER

    EthCollection:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM
        id:
          $ref: "#/components/schemas/EthAddress"
        type:
          type: string
          enum:
            - ERC721
            - ERC1155
        owner:
          $ref: "#/components/schemas/EthAddress"
        features:
          $ref: "#/components/schemas/EthFeaturesCollection"
      required:
        - "@type"
        - id
        - type
        - features

    EthOrderEvent:
      type: object
      oneOf:
        - "$ref": "#/components/schemas/EthOrderUpdateEvent"

    EthOrderUpdateEvent:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - ETHEREUM_UPDATE
        order:
          "$ref": "#/components/schemas/EthOrder"
      required:
        - "@type"
        - order

    #################### Item - Flow ####################

    FlowItemId:
      type: object
      properties:
        value:
          type: string
          example: "${blockchain}:${contract}:${tokenId}"
        token:
          $ref: "#/components/schemas/FlowAddress"
        tokenId:
          $ref: "#/components/schemas/BigInteger"
      required:
        - value
        - token
        - tokenId

    FlowItem:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - FLOW
        blockchain:
          $ref: "#/components/schemas/FlowBlockchain"
        id:
          $ref: "#/components/schemas/FlowItemId"
        tokenId:
          $ref: "#/components/schemas/BigInteger"
        collection:
          $ref: "#/components/schemas/FlowContract"
        creators:
          type: array
          items:
            $ref: "#/components/schemas/FlowCreator"
        owners:
          type: array
          items:
            $ref: "#/components/schemas/FlowAddress"
        royalties:
          type: array
          items:
            $ref: "#/components/schemas/FlowRoyalty"
      required:
        - blockchain
        - id
        - tokenId
        - collection
        - creators
        - owners
        - royalties

    FlowCreator:
      type: object
      properties:
        account:
          $ref: "#/components/schemas/FlowAddress"
        value:
          $ref: "#/components/schemas/BigDecimal"
      required:
        - account
        - value

    FlowRoyalty:
      type: object
      properties:
        account:
          $ref: "#/components/schemas/FlowAddress"
        value:
          $ref: "#/components/schemas/BigDecimal"
      required:
        - account
        - value

    FlowItemEvent:
      properties:
        itemId:
          $ref: "#/components/schemas/FlowItemId"
      required:
        - "@type"
        - itemId
      oneOf:
        - $ref: "#/components/schemas/FlowItemUpdateEvent"
        - $ref: "#/components/schemas/FlowItemDeleteEvent"

    FlowItemUpdateEvent:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - FLOW_UPDATE
        item:
          $ref: "#/components/schemas/FlowItem"
      required:
        - "@type"
        - item

    FlowItemDeleteEvent:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - FLOW_DELETE
      required:
        - "@type"
        - itemId

    #################### Ownership - Flow ####################

    FlowOwnershipId:
      type: object
      properties:
        value:
          type: string
          example: "${blockchain}:${collection}:${tokenId}:${owner}"
        token:
          $ref: "#/components/schemas/FlowContract"
        tokenId:
          $ref: "#/components/schemas/BigInteger"
        owner:
          $ref: "#/components/schemas/FlowAddress"
      required:
        - value
        - token
        - tokenId
        - owner

    FlowOwnership:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - FLOW
        id:
          $ref: "#/components/schemas/FlowOwnershipId"
        contract:
          $ref: "#/components/schemas/FlowContract"
        tokenId:
          $ref: "#/components/schemas/BigInteger"
        owner:
          type: array
          items:
            $ref: "#/components/schemas/FlowAddress"
      required:
        - "@type"
        - id
        - contract
        - tokenId
        - owner

    FlowOwnershipEvent:
      properties:
        eventId:
          type: string
        ownershipId:
          $ref: "#/components/schemas/FlowOwnershipId"
      required:
        - "@type"
        - eventId
        - ownershipId
      oneOf:
        - $ref: "#/components/schemas/FlowOwnershipUpdateEvent"
        - $ref: "#/components/schemas/FlowOwnershipDeleteEvent"

    FlowOwnershipUpdateEvent:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - FLOW_UPDATE
        ownership:
          $ref: "#/components/schemas/FlowOwnership"
      required:
        - "@type"
        - ownership

    FlowOwnershipDeleteEvent:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - FLOW_DELETE
      required:
        - "@type"

    #################### Order - Flow ####################

    FlowOrder:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - FLOW
        id:
          $ref: "#/components/schemas/BigInteger"
        type:
          $ref: "#/components/schemas/FlowOrderType"
        maker:
          $ref: "#/components/schemas/FlowAddress"
        taker:
          $ref: "#/components/schemas/FlowAddress"
        make:
          $ref: "#/components/schemas/FlowAsset"
        take:
          $ref: "#/components/schemas/FlowAsset"
        data:
          $ref: "#/components/schemas/FlowOrderDataV1"
      required:
        - id
        - type
        - maker
        - make
        - take
        - data

    FlowOrderType:
      type: string
      enum:
        - RARIBLE_FLOW_V1

    FlowOrderPayout:
      type: object
      properties:
        account:
          $ref: "#/components/schemas/FlowAddress"
        value:
          $ref: "#/components/schemas/BigInteger"
      required:
        - account
        - value

    FlowOrderOriginFee:
      type: object
      properties:
        account:
          $ref: "#/components/schemas/FlowAddress"
        value:
          $ref: "#/components/schemas/BigInteger"
      required:
        - account
        - value

    FlowOrderDataV1:
      type: object
      properties:
        dataType:
          type: string
          enum:
            - DATA_V1
        payouts:
          type: array
          items:
            $ref: "#/components/schemas/FlowOrderPayout"
        originFees:
          type: array
          items:
            $ref: "#/components/schemas/FlowOrderOriginFee"
      required:
        - dataType
        - payouts
        - originFees

    FlowAsset:
      type: object
      properties:
        assetType:
          $ref: "#/components/schemas/FlowAssetType"
        value:
          $ref: "#/components/schemas/BigInteger"
      required:
        - assetType
        - value

    FlowAssetType:
      type: object
      properties:
        contract:
          $ref: "#/components/schemas/FlowAddress"
      required:
        - contract
      oneOf:
        - $ref: "#/components/schemas/FlowAssetTypeNft"
        - $ref: "#/components/schemas/FlowAssetTypeFt"

    FlowAssetTypeNft:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - FLOW_NFT
        tokenId:
          $ref: "#/components/schemas/BigInteger"
      required:
        - "@type"

    FlowAssetTypeFt:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - FLOW_FT
      required:
        - "@type"

    FlowOrderEvent:
      type: object
      oneOf:
        - "$ref": "#/components/schemas/FlowOrderUpdateEvent"

    FlowOrderUpdateEvent:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - FLOW_UPDATE
        order:
          "$ref": "#/components/schemas/FlowOrder"
      required:
        - "@type"
        - order

    #################### Activity - Flow ####################

    FlowActivity:
      type: object
      properties:
        blockchain:
          $ref: "#/components/schemas/FlowBlockchain"
      oneOf:
        - $ref: "#/components/schemas/FlowMintActivity"
        - $ref: "#/components/schemas/FlowBurnActivity"
        - $ref: "#/components/schemas/FlowTransferActivity"
        - $ref: "#/components/schemas/FlowOrderMatchActivity"
        - $ref: "#/components/schemas/FlowOrderListActivity"
        - $ref: "#/components/schemas/FlowOrderCancelListActivity"
      required:
        - blockchain

    FlowMintActivity:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - FLOW_MINT
        owner:
          type: array
          items:
            $ref: "#/components/schemas/FlowAddress"
        contract:
          $ref: "#/components/schemas/FlowContract"
        tokenId:
          $ref: "#/components/schemas/BigInteger"
        value:
          $ref: "#/components/schemas/BigInteger"
        blockchainInfo:
          $ref: "#/components/schemas/ActivityBlockchainInfo"
      required:
        - "@type"
        - owner
        - contract
        - tokenId
        - value
        - blockchainInfo

    FlowBurnActivity:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - FLOW_BURN
        owner:
          type: array
          items:
            $ref: "#/components/schemas/FlowAddress"
        contract:
          $ref: "#/components/schemas/FlowContract"
        tokenId:
          $ref: "#/components/schemas/BigInteger"
        value:
          $ref: "#/components/schemas/BigInteger"
        blockchainInfo:
          $ref: "#/components/schemas/ActivityBlockchainInfo"
      required:
        - "@type"
        - owner
        - contract
        - tokenId
        - value
        - blockchainInfo

    FlowTransferActivity:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - FLOW_TRANSFER
        from:
          $ref: "#/components/schemas/FlowAddress"
        owner:
          type: array
          items:
            $ref: "#/components/schemas/FlowAddress"
        contract:
          $ref: "#/components/schemas/FlowContract"
        tokenId:
          $ref: "#/components/schemas/BigInteger"
        value:
          $ref: "#/components/schemas/BigInteger"
        blockchainInfo:
          $ref: "#/components/schemas/ActivityBlockchainInfo"
      required:
        - "@type"
        - from
        - owner
        - contract
        - tokenId
        - value
        - blockchainInfo

    FlowOrderMatchActivity:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - FLOW_MATCH
        left:
          $ref: "#/components/schemas/FlowOrderActivityMatchSide"
        right:
          $ref: "#/components/schemas/FlowOrderActivityMatchSide"
        price:
          $ref: "#/components/schemas/BigDecimal"
        priceUsd:
          $ref: "#/components/schemas/BigDecimal"
        blockchainInfo:
          $ref: "#/components/schemas/ActivityBlockchainInfo"
      required:
        - "@type"
        - left
        - right
        - price
        - blockchainInfo

    FlowOrderListActivity:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - FLOW_LIST
        hash:
          type: string
        maker:
          $ref: "#/components/schemas/FlowAddress"
        make:
          $ref: "#/components/schemas/FlowAsset"
        take:
          $ref: "#/components/schemas/FlowAsset"
        price:
          $ref: "#/components/schemas/BigDecimal"
        priceUsd:
          $ref: "#/components/schemas/BigDecimal"
      required:
        - "@type"
        - hash
        - maker
        - make
        - take
        - price

    FlowOrderCancelListActivity:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - FLOW_CANCEL_LIST
        hash:
          type: string
        maker:
          $ref: "#/components/schemas/FlowAddress"
        make:
          $ref: "#/components/schemas/FlowAsset"
        take:
          $ref: "#/components/schemas/FlowAsset"
      required:
        - "@type"
        - hash
        - maker
        - make
        - take

    FlowOrderActivityMatchSide:
      type: object
      properties:
        maker:
          $ref: "#/components/schemas/FlowAddress"
        asset:
          $ref: "#/components/schemas/FlowAsset"
        type:
          type: string
          enum:
            - SELL
            - BID
      required:
        - maker
        - asset
        - type

    FlowCollection:
      type: object
      properties:
        "@type":
          type: string
          enum:
            - FLOW
        id:
          $ref: "#/components/schemas/FlowContract"
        owner:
          $ref: "#/components/schemas/FlowAddress"
      required:
        - "@type"
        - id
        - owner

    #################### Referenced Types ####################

    BigInteger:
      type: string
      example: 123456
    BigDecimal:
      type: string
      example: 123456.789

    EthAddress:
      type: string
      example: "0x60f80121c31a0d46b5279700f9df786054aa5ee5"
    EthBlockchain:
      type: string
      enum:
        - ETHEREUM
        - POLYGON

    FlowAddress:
      type: string
      example: "0x5c075acc71f2f41c"
    FlowContract:
      type: string
      example: "A.${FlowAddress}.${string}"
    FlowBlockchain:
      type: string
      enum:
        - FLOW